(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{704:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115),n=r(3430);let a=function(e){let t=s.useRef(e);return(0,n.A)(()=>{t.current=e}),s.useRef(function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.current)(...r)}).current}},848:(e,t,r)=>{"use strict";function s(e){try{return e.matches(":focus-visible")}catch(e){}return!1}r.d(t,{A:()=>s})},2370:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s,n=r(2115);let a=0,i={...s||(s=r.t(n,2))}.useId;function c(e){if(void 0!==i){let t=i();return null!=e?e:t}let[t,r]=n.useState(e),s=e||t;return n.useEffect(()=>{null==t&&(a+=1,r("mui-".concat(a)))},[t]),s}},2696:(e,t,r)=>{"use strict";r.d(t,{L:()=>l,LoadingOverlay:()=>o});var s=r(5155),n=r(8574),a=r(4426),i=r(2115);class c{show(){this.listeners.forEach(e=>e(!0))}hide(){this.listeners.forEach(e=>e(!1))}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}constructor(){this.listeners=new Set}}let l=new c;function o(){let[e,t]=(0,i.useState)(!1);return((0,i.useEffect)(()=>l.subscribe(t),[]),e)?(0,s.jsx)(n.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:(0,s.jsx)(a.A,{color:"inherit"})}):null}},2765:(e,t,r)=>{Promise.resolve().then(r.bind(r,4312))},3430:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(2115);let n="undefined"!=typeof window?s.useLayoutEffect:s.useEffect},4312:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),n=r(2115),a=r(5297);function i(e){let{datas:t=[],pagination:r={last_visible_page:0,has_next_page:!1,current_page:1,items:{count:0,total:0,per_page:10}},onPageChange:i=()=>{},onRowsPerPageChange:c=()=>{},filters:l={type:"",order_by:"popularity",sort:"desc",q:"",rating:""},onFilterChange:o=()=>{},onSelectedData:u=()=>{},has_next_page:d=!0}=e,h=e=>null==u?void 0:u(e);return(0,s.jsx)("div",{className:"flex flex-col items-center text-black p-6",children:t&&0!==t.length?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8 min-h-[400px]",children:t.map((e,t)=>{var r;return(0,s.jsx)(n.Fragment,{children:null==(r=e.entry)?void 0:r.map((e,t)=>{var r,n,i;return(0,s.jsxs)("div",{onClick:()=>h(e.mal_id),className:"bg-white rounded-xl shadow-md overflow-hidden hover:cursor-pointer hover:bg-gray-100 hover:scale-103 transition duration-100 ease-in-out border-2 border-gray-200 hover:border-gray-500",children:[(0,s.jsx)("img",{src:(null==(n=e.images)||null==(r=n.jpg)?void 0:r.image_url)||"/fallback.jpg",alt:e.title,className:"w-full h-80 object-cover"}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)(a.A,{title:e.title,children:(0,s.jsx)("h3",{className:"text-sm font-bold mb-2 line-clamp-1 hover:underline",children:e.title})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1 line-clamp-3",children:e.synopsis||"No description."}),(0,s.jsxs)("p",{className:"text-sm text-gray-800 font-medium",children:["Score: ",null!=(i=e.score)?i:"N/A"]})]})]},t)})},t)})}):(0,s.jsxs)("div",{className:"text-center p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"No anime found"}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"Try a different category or check your connection."})]})})}var c=r(2696),l=r(3464),o=r(5695);function u(){let e=(0,o.useRouter)(),{index:t}={index:async e=>{let{rowPerPage:t=10,currentPage:r=1}=e;try{return(await l.A.get("".concat("https://api.jikan.moe/v4","/recommendations/anime"),{params:{page:r,limit:t}})).data}catch(e){throw console.error(e),e}}},[r,a]=(0,n.useState)([]),[u,d]=(0,n.useState)({last_visible_page:0,has_next_page:!1,current_page:1}),h=async()=>{if(c.L.show(),!u.has_next_page){let e=await t({currentPage:u.current_page});a((null==e?void 0:e.data)||[]),d((null==e?void 0:e.pagination)||u)}c.L.hide()};return((0,n.useEffect)(()=>{h()},[u.current_page]),0===r.length)?(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"No recommendations available"}),(0,s.jsx)("p",{children:"Try searching for anime or checking your internet connection."})]}):(0,s.jsx)(i,{datas:r,pagination:u,onPageChange:e=>{d(t=>({...t,current_page:e}))},onSelectedData:t=>e.push("/anime/view?id=".concat(t)),has_next_page:!u.has_next_page})}},4739:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=r(2370).A},7573:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=r(704).A},7740:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let n={};function a(e,t){let r=s.useRef(n);return r.current===n&&(r.current=e(t)),r}},9905:(e,t,r)=>{"use strict";r.d(t,{E:()=>i,A:()=>c});var s=r(7740),n=r(2115);let a=[];class i{static create(){return new i}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}}function c(){var e;let t=(0,s.A)(i.create).current;return e=t.disposeEffect,n.useEffect(e,a),t}}},e=>{var t=t=>e(e.s=t);e.O(0,[960,574,464,755,441,684,358],()=>t(2765)),_N_E=e.O()}]);